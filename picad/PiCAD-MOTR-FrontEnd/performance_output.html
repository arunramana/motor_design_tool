<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1" name="viewport" />
       <meta name="description" content="PI Labs" />
    <meta name="author" content="Labs" />
    <title>PI Labs</title>

   <link href="assets/css/fonts/font-awesome.css" rel="stylesheet" type="text/css" />
   	<link href="assets/css/simple-line-icons.min.css" rel="stylesheet" type="text/css" />
	<link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/style.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/responsive.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.syncfusion.com/ej2/25.1.35/dist/ej2.min.js" type="text/javascript"></script>
    <script src="https://cdn.syncfusion.com/ej2/syncfusion-helper.js" type ="text/javascript"></script>	
    <script src='https://cdn.plot.ly/plotly-2.32.0.min.js'></script>	
	
    <link rel="shortcut icon" href="assets/images/favicon.png" /> 

 </head>
<body class="page-header-fixed sidemenu-closed-hidelogo page-content-white page-md header-white dark-sidebar-color logo-dark">
    <div class="page-wrapper">
        <div class="page-header navbar navbar-fixed-top" elementsection="header">
            <div class="page-header-inner ">
                <div class="page-logo">
                    <a href="motor_wiz_inputs.html"><img src="assets/images/logo.svg" alt="ChatBot"> </a>
                </div>				
                
                <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse" data-target=".navbar-collapse">
                    <span></span>
                </a>
					<div class="pull-left"><div class="bred_hd"><i class="back_ic" onClick="window.location.href='air_gap_output.html'"></i> <span id="vehiName"></span> / <span id="motoName"></span>/ Output</div></div>
                <div class="top-menu">
                    <ul class="nav navbar-nav pull-right">
                       
 						<li class="dropdown dropdown-user">
                            <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                                <span class="avatar" id="avatar"></span>
                                <span class="hd_txt">
                                    <span id="userName"></span><br>
                                    <span class="username username-hide-on-mobile" id="userMail"></span>
                                </span>
                            </a>
							
                            <ul class="dropdown-menu dropdown-menu-default animated jello">
                                <!-- <li>
                                     <a href="profile.html"> <i class="change_pass_ic"></i> Change Password </a>
                                </li> -->							
								<li>
                                    <a href="javascript:void(0);" onclick="logout()"> <i class="logout_ic"></i><label>Log out</label> </a>
                               </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div> 
        </div>
			 
        <div class="page-container">
		<div class="sidebar-container"  elementsection="menu"> 
 				<div class="sidemenu-container navbar-collapse collapse fixed-menu pad15T">
	                <div id="remove-scroll">
	                    <ul class="sidemenu page-header-fixed p-t-20" data-keep-expanded="false" data-auto-scroll="true" data-slide-speed="200">	                  
                            <li class="nav-item">
	                            <a  class="nav-link nav-toggle">
                                    <i class="dashboard_ic"></i> </a>
							</li>
                            <li class="nav-item">
	                            <a  class="nav-link nav-toggle"> 
                                    <i class="vehicle_dynamics"></i></a>
							</li>
							  <li class="nav-item active">
	                            <a  class="nav-link nav-toggle"> 
                                    <i class="motor_wiz_inputs"></i> </a>
							</li>                            
	                    </ul>
	                </div>
                </div>
            </div>
			
		<div class="page-content-wrapper">
			<div class="page-content">			   							 
			<div class="row d-flex align-items-center dash_pad1">   
					<div class="col-md-12 pad25T">								
						
						<div id="process" class="w80p">
            <ul id="stepButtons" class="process-row nav nav-tabs">                
                <li class="process-step active1">
                    <button type="button" class="btn btn-circle btn-default" data-toggle="tab" onClick="window.location.href='geometry_output.html'">
                        <i class="geometry_ic"></i>
                    </button>
                    <p>Geometry</p>
                </li>                
                <li class="process-step active1">
                    <button type="button" class="btn btn-circle btn-default" data-toggle="tab" onClick="window.location.href='winding_output.html'">
					 <i class="wiring_ic"></i>
					</button>
                    <p>Winding Diagram</p>
                </li>
				<li class="process-step active1">
                    <button type="button" class="btn btn-circle btn-default" data-toggle="tab" onClick="window.location.href='flux_density_output.html'">
					 <i class="flux_ic"></i>
					</button>
                    <p>Flux Density Plot</p>
                </li>
                <li class="process-step active1">
                    <button type="button" class="btn btn-circle btn-default" data-toggle="tab" onClick="window.location.href='air_gap_output.html'">
					 <i class="air_gap"></i>
					</button>
                    <p>Air Gap Flux</p>
                </li>
                <li class="process-step active">
                    <button type="button" class="btn btn-circle btn-default" data-toggle="tab" onClick="window.location.href='performance_output.html'">
					 <i class="performance"></i>
					</button>
                    <p>Performance Analysis</p>
                </li>
                <li class="process-step">
                    <button type="button" class="btn btn-circle btn-default" data-toggle="tab" onClick="window.location.href='cost_output.html'">
					 <i class="cost_ic"></i>
					</button>
                    <p>Cost & Weight</p>
                </li>
                
            </ul>
        </div>
					<div class="clear mrg25B"></div>						
					<div class="row d-flex align-items-center dash_pad left_nav">   
			<div class="col-md-3 box_bg">
			<div align="center" class="pad20B" id="performance_analysis_values">
               <p id="ld"></p>
               <p id="lq"></p>
               <p id="wm"></p>
               <p id="bemf"></p>
               <p id="kt"></p>
               <p id="imax"></p>
            </div>
			
        <ul class="nav nav-tabs nav-tabs-line"  role="tablist"><li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#tab-item-1">Torque Vs Speed</a></li><li class="nav-item"><a class="nav-link" data-toggle="tab" href="#tab-item-2">Efficiency Plot</a></li><li class="nav-item"><a class="nav-link" data-toggle="tab" href="#tab-item-3">Thermal Plot</a></li><li class="nav-item"><a class="nav-link" data-toggle="tab" id="tab-item-head-4" href="#tab-item-4">Motor Constraint Curves</a></li><li class="nav-item"><a class="nav-link" data-toggle="tab" id="tab-item-head-5" href="#tab-item-5">Max Torque Trajectory</a></li><li class="nav-item"><a class="nav-link mrg0B" data-toggle="tab" id="tab-item-head-6" href="#tab-item-6">MTPA Table</a></li></ul>
      </div>
	  
	  	<div class="col-md-9">
		
				 <div class="tab-content pad15L col-md-12 box_bg">
						<div class="tab-pane fade active show" id="tab-item-1" align="center">
							<div id="graph_sheet_4">
                                <div id="graph_sheet_4_child"></div>
                            </div>
						</div>
						<div class="tab-pane fade" id="tab-item-2" align="center">
                            <div id="contour_plot_1"></div>
							
						</div>
						<div class="tab-pane fade" id="tab-item-3" align="center">
                            <div id="contour_plot_2"></div>
						</div>
						<div class="tab-pane fade" id="tab-item-4" align="center">
							<div id="graph_sheet_5">
                                <div id="graph_sheet_5_child"></div>
                            </div>
						</div>
						<div class="tab-pane fade" id="tab-item-5" align="center">
							<div id="graph_sheet_6">
                                <div id="graph_sheet_6_child"></div>
                            </div>
						</div>
						<div class="tab-pane fade" id="tab-item-6" align="center">
							
                            <table cellspacing="0" cellpadding="0" id="mpta_table" style="border: 1px solid black;width:100%;text-align: center;overflow-y: auto;" >
                                <thead>
                                <tr>
                                  <th style="border: 1px solid black;">Torque (Nm)</th>
                                  <th style="border: 1px solid black;">Current (A)</th>
                                  <th style="border: 1px solid black;">Current Angle</th>
                                </tr>
                                </thead>
                                <tbody>
                                </tbody>
                                
                              </table>
                            

						</div>
						
						</div>									
													
			</div>					</div>
								
							<div class="clear mrg25B"></div>
				<div class="row">
						<div class="col-sm-4" align="left"><button class="nxt_pre_btns" onClick="window.location.href='air_gap_output.html'" ><img src="assets/images/arrow_left.svg"> Previous</button></div>
						<div class="col-sm-4" align="center"><button class="nxt_pre_btns" id="downloadBtn">Download <img src="assets/images/download_ic1.svg" align="absmiddle"> </button></div>
						<div class="col-sm-4" align="right"><button class="nxt_pre_btns" onClick="window.location.href='cost_output.html'">Next <img src="assets/images/arrow_right.svg"> </button></div>
					
				</div>
				
				</div>				
			</div>	
						
					  </div>
					<div class="clear mrg15B"></div>
					
			</div>	
								
		 </div>		
		 
        </div>
		</div>
	</div>
    </div>
	


</div>
<div class="loader_animation_overlay" id="loader_animation_overlay">
    <div class="loader_animation" id="loader_animation"></div>
</div>
	
    <script src="assets/js/jquery.js"></script>
    <script src="assets/js/bootstrap4.min.js" ></script>
    <script src="assets/js/config.js"></script>
    <script>
		var ele = document.getElementById('graph_sheet_4');
		if(ele) {
		  ele.style.visibility = "visible";
		}   
	</script>
     <script>
		var ele = document.getElementById('graph_sheet_6');
		if(ele) {
		  ele.style.visibility = "visible";
		}   
	</script>
    <script src="./assets/js/config.js"></script>
	
<script>

document.getElementById("userMail").innerText = userMail;
document.getElementById("userName").innerText = userName;
document.getElementById("avatar").innerText = userName.charAt(0).toUpperCase();

function showLoader() {
    document.getElementById('loader_animation_overlay').style.display = 'flex';
}

function hideLoader() {
    document.getElementById('loader_animation_overlay').style.display = 'none';
}

function getQueryParams(param) {
        var urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
    }
	let vehiName = getQueryParams("vehicle_name");
    if(!vehiName){
        vehiName = localStorage.getItem("vehicle_name")
        document.getElementById("vehiName").innerText = vehiName;
    }else{
        document.getElementById("vehiName").innerText = vehiName;
        localStorage.setItem("vehicle_name", vehiName); // Store in local storage
    }

	
let motoName = getQueryParams("motor_name");
    if(!motoName){
        motoName = localStorage.getItem("motor_name")
        document.getElementById("motoName").innerText = motoName;
    }else{
        document.getElementById("motoName").innerText = motoName;
        localStorage.setItem("motor_name", motoName); // Store in local storage
    }
	function isEmpty(obj) {
    for(var key in obj) {
        if(obj.hasOwnProperty(key))
            return false;
    }
    return true;
}
console.log("motorName",motoName)

const topology = localStorage.getItem('topo');
console.log("checktopo",topology)
if (topology === 'SPMSM') {
    document.getElementById('tab-item-head-4').style.display = 'none';
    document.getElementById('tab-item-head-5').style.display = 'none';
    document.getElementById('tab-item-head-6').style.display = 'none';
}

document.addEventListener("DOMContentLoaded", function() {
  showLoader()
  const storedData = localStorage.getItem('motorDataOutput');
  hideLoader()
  if (storedData) {
      const motorDataOutput = JSON.parse(storedData);
      console.log("Motor Data Input Retrieved:", motorDataOutput);
      performance_analysis_output(motorDataOutput)
      performance_image_outputs(motorDataOutput)
      motor_constraint_graph(motorDataOutput)
      max_torque_trajectory_graph(motorDataOutput)
      mtpa_table_output(motorDataOutput)
     
  } else {
      console.log("No motor data found in storage.");
  }
  
});


// Performance Analysis output:
// .......***.......//


function format_value(value) {
        if (value >= 100) {
            return value.toFixed(0);
        } else if (value >= 10) {
            return value.toFixed(1);
        } else {
            return value.toFixed(2);
        }
}

function performance_analysis_output(data){

var plots=data.plots["TORQUE SPEED"]
var operating_torque_speed_values=plots['operating torque speed']
var torque_speed_values=plots['torque speed']
var ldlq_values=data.ldlq
var backemf = data.bemf
var i_max=data.i_max

document.getElementById('ld').textContent=`Ld : ${format_value(ldlq_values[0])} μΗ`
document.getElementById('lq').textContent=`Lq : ${format_value( ldlq_values[1])} μΗ`
document.getElementById('wm').textContent=`Ψm : ${ldlq_values[2].toFixed(3)} Wb`
document.getElementById('bemf').textContent=`Ke : ${format_value(backemf)} V/krpm`
document.getElementById('kt').textContent=`Kt : ${format_value(data.kt)} Nm/A`
document.getElementById('imax').textContent=`Max A_rms : ${format_value(i_max)} A`

function create_object(arr1,arr2,isoperating){

    const result=[]
    
    for (let i = 0; i < arr1.length; i++) {

        const obj = {
            x: arr1[i],
            y: arr2[i] 
        };
        result.push(obj)

    }
    
    var lastIndex=arr1.length-1
    
    if(isoperating){

        const obj = {
            x: arr1[lastIndex],
            y: 0.001
        };
        result.push(obj)
    }

    return result
}

//last x value and last y value 0

var operating_torque_speed = create_object(operating_torque_speed_values[0],operating_torque_speed_values[1],true)
var torque_speed = create_object(torque_speed_values[0],torque_speed_values[1],false)

var chart = new ej.charts.Chart({
    primaryXAxis: {
        title: 'Speed(RPM)',
        labelFormat:'{value}'
    },
    primaryYAxis: {
        title: 'Torque (Nm)',
        labelFormat: '{value}'
    },
    series: [
        {
            dataSource: torque_speed,
            width: 2,
            xName: 'x',
            yName: 'y',
            name: 'Torque Speed Curve',
            // Series type as line
            type: 'Spline',
            splineType: 'Monotonic',
            // Color of the line
            fill: 'skyblue'
        },
        {
            dataSource: operating_torque_speed,
            width: 2,
            xName: 'x',
            yName: 'y',
            name: 'Operating Torque Speed',
            // Series type as line
            type: 'Spline',
            splineType: 'Monotonic',
            // Color of the line
            fill: 'red'
        },
        
    ],
    tooltip: {
        enable: true
    },
    legendSettings: {
        visible: true,
        position: 'Right', // Set legend position to the right
        padding: 30
    }

}, '#graph_sheet_4_child');
}

// Image Outputs: 
// .......***.......//

function performance_image_outputs(data){

var efficiency_data=data.plots.performance.data.efficiency
var thermal_data=data.plots.performance.data.thermal

var customColorscale = [
    [0, 'red'],
    [0.5, 'yellow'],
    [1, 'green']
];

var eff_data = [{
      z: efficiency_data.z,
      x: efficiency_data.x,
      y: efficiency_data.y,
      type: 'contour',
      hovertemplate: 'Speed (rpm) : %{x}<br>Torque (Nm) : %{y}<br>Efficiency (%) : %{z}<extra></extra>',
      colorscale: customColorscale
}];

var ther_data=[{
      z: thermal_data.z,
      x: thermal_data.x,
      y: thermal_data.y,
      type: 'contour',
      hovertemplate: 'Speed (rpm) : %{x}<br>Torque (Nm) : %{y}<br>Temperature (°C) : %{z}<extra></extra>',
}];

var eff_layout = {
        title: 'Efficiency Plot',
        xaxis: { 
            title: 'Speed (rpm)',
            titlefont: {
                family: 'Roboto, sans-serif',
                size: 14,
                color: '#000',
                bold: true
            }
        },
        yaxis: { 
            title: 'Torque (Nm)',
            titlefont: {
                family: 'Roboto, sans-serif',
                size: 14,
                color: '#000',
                bold: true
            }
        },
        height: 600 
};

var ther_layout = {
        title: 'Thermal Plot',
        xaxis: { 
            title: 'Speed (rpm)',
            titlefont: {
                family: 'Roboto, sans-serif',
                size: 14,
                color: '#000',
                bold: true
            }
        },
        yaxis: { 
            title: 'Torque (Nm)',
            titlefont: {
                family: 'Roboto, sans-serif',
                size: 14,
                color: '#000',
                bold: true
            }
        },
        height: 600
};

var config = {
      displayModeBar: false, 
      responsive: true
};

Plotly.newPlot('contour_plot_1', eff_data, eff_layout, config);

Plotly.newPlot('contour_plot_2',ther_data,ther_layout,config);

// const ef_img = document.getElementById('effeciency_image');
// const te_img=document.getElementById('thermal_image')
// //Effeciency_Image:
// ef_img.src = 'data:image/png;base64,' + images.efficiency;
// ef_img.style.width='50%';
// ef_img.style.height='50%';

// //Thermal_Image:
// te_img.src = 'data:image/png;base64,' +images.thermal;
// te_img.style.width='50%';
// te_img.style.height='50%';
}

// Motor Constraint_Output:
// .......***.......//

function motor_constraint_graph(data){

var current_circle=data.plots['CURRENT CIRCLE']
var voltage_eclipse=data.plots['VOLTAGE ELLIPSE']
var constant_torque=data.plots['CONSTANT TORQUE']
var i_max=data.i_max

function createobject(arr1,arr2){

    const result=[]
    
    for (let i = 0; i < arr1.length; i++) {

        const obj = {
            x: arr1[i],
            y: arr2[i] 
        };
        result.push(obj)

    }
    return result
}

var series_list = [];

for (var key in current_circle){

    console.log(key);
    
    var current_circle=createobject(current_circle[key][0],current_circle[key][1])

    var data = {
        dataSource: current_circle,
        width: 2,
        xName: 'x',
        yName: 'y',
        name: `Current Limit(A)`,
        // Series type as line
        type: 'Spline',
        // Color of the line
        fill: 'red',
    };

    series_list.push(data)
}


for (var key in voltage_eclipse){

    console.log(key);
    
    var voltage_eclipse_1=createobject(voltage_eclipse[key][0],voltage_eclipse[key][1])

    var data = {
        dataSource: voltage_eclipse_1,
        dashArray: '5, 1',
        width: 2,
        xName: 'x',
        yName: 'y',
        name: `${key} RPM`,
        // Series type as line
        type: 'Spline',
        // Color of the line
        //fill: 'green'
    };

    series_list.push(data)
}

for (var key in constant_torque){
    
    var constant_torque_1=createobject(constant_torque[key][0],constant_torque[key][1])

    var data = {
        dataSource: constant_torque_1,
        dashArray: '5, 1',
        width: 2,
        xName: 'x',
        yName: 'y',
        name: `${key} Nm`,
        // Series type as line
        type: 'Spline',
        // Color of the line
        //fill: 'green'
    };

    series_list.push(data)
}

var chart = new ej.charts.Chart({
    primaryXAxis: {
        title: 'Id RMS(A)',
        minimum: 0, 
        maximum: -i_max*1.2
    },
    primaryYAxis: {
        title: 'Iq RMS(A)',
        labelFormat: '{value}',
        minimum: 0, 
        maximum: i_max*1.2
    },
    series: series_list,
    tooltip: {
        enable: true,
        
        
    },
    legendSettings: {
        visible: true,
        position: 'Right', // Set legend position to the right
    }

}, '#graph_sheet_5_child');
}

// Max_torque_trajectory_graph_output:
// .......***.......//

function max_torque_trajectory_graph(data){

var mtpa=data.plots["MTPA"]
var id_mtpa_values=mtpa['id']
var iq_mtpa_values=mtpa['iq']
var torque_values=mtpa['torque']
var current_circle=data.plots['CURRENT CIRCLE']


var current_arr = [];
var angle_arr = [];

for (let i = 0; i < id_mtpa_values.length; i++) {

    var id_val = id_mtpa_values[i];
    var iq_val = iq_mtpa_values[i];

    var curr = Math.sqrt(id_val*id_val+iq_val*iq_val);

    var angle = Math.atan(id_val/iq_val);

    current_arr.push(curr);
    angle_arr.push(angle);


}


function createobject(arr1,arr2,torque_arr, current_arr, angle_arr, name){

    const result=[]
    
    for (let i = 0; i < arr1.length; i++) {


        if(name=="torque"){
            var obj = {
                x: arr1[i],
                y: arr2[i],
                torque: torque_arr[i],
                current: current_arr[i],
                angle: angle_arr[i],
                label:name
            };
        }
        else{
            var obj = {
                x: arr1[i],
                y: arr2[i],
                label:name
            };
        }

        result.push(obj)

    }
    return result
}



var torque_graph_values=createobject(id_mtpa_values,iq_mtpa_values,torque_values, current_arr, angle_arr,'torque')

var series_list = [
    {
        dataSource: torque_graph_values,
        width: 2,
        xName: 'x',
        yName: 'y',
        name: 'Torque (Nm)',
        // Series type as line
        type: 'Spline',
        splineType: 'Monotonic',
        // Color of the line
        fill: 'blue'
    },
];

for (var key in current_circle){

    console.log(key);
    
    var current_circle=createobject(current_circle[key][0],current_circle[key][1],[],[],[],'current')

    var data = {
        dataSource: current_circle,
        width: 2,
        xName: 'x',
        yName: 'y',
        name: `Current Limit(A)`,
        // Series type as line
        type: 'Spline',
        // Color of the line
        fill: 'red'
    };

    series_list.push(data)
}

var chart = new ej.charts.Chart({
    primaryXAxis: {
        title: 'Id RMS(A)'
    },
    primaryYAxis: {
        title: 'Iq RMS(A)',
        labelFormat: '{value}'
    },
    series: series_list,
    tooltip: {
        enable: true,
    },
    legendSettings: {
        visible: true,
        position: 'Right', // Set legend position to the right
        
    }

}, '#graph_sheet_6_child');
}

// mtpa_table_Output:
// .......***.......//

function mtpa_table_output(data){
    var mtpa=data.plots['MTPA']
    var torque_value=mtpa['torque']
    var current_angle=mtpa['current angle']
    var id_value=mtpa['id']
    var iq_value=mtpa['iq']
    var current_value = [];

    for (let i = 0; i < id_value.length; i++) {

        var id_val = id_value[i];
        var iq_val = iq_value[i];
        
        var curr = Math.sqrt(id_val*id_val+iq_val*iq_val);

        current_value.push(curr);
    }

    var tableBody = document.querySelector('#mpta_table tbody');
        for (let i = 0; i < torque_value.length; i++) {
            var newRow = tableBody.insertRow();
            newRow.insertCell(0).textContent = torque_value[i].toFixed(2);
            newRow.insertCell(1).textContent = Math.round(current_value[i]);
            newRow.insertCell(2).textContent = current_angle[i];
    }
    var tdElements = document.querySelectorAll('#mpta_table td');
        tdElements.forEach(td => {
            td.style.border = '1px solid black';
            td.style.textAlign = 'center';
    });


}


$(document).ready(function() {
 // executes when HTML-Document is loaded and DOM is ready
console.log("document is ready");
  
  
// document ready  
});


function logout() {
            sessionStorage.removeItem('user_id');
            window.location.href = 'login.html';
}


window.onload = function() {
            // Check if user_id is present in sessionStorage
            const userId = sessionStorage.getItem('user_id');
            if (!userId) {
                // If user_id is present, redirect to dashboard.html
                // If user_id is not present, redirect to login.html
                window.location.href = "login.html";
            }
};


document.addEventListener("DOMContentLoaded", function() {
            document.getElementById("downloadBtn").addEventListener("click", function() {
                showLoader()
                const myHeaders = new Headers();
                myHeaders.append("Content-Type", "application/json");

                const raw = JSON.stringify({
                    "user_id": user_id,
                    "vehicle_name": vehiName,
                    "motor_name": motoName
                });

                const requestOptions = {
                    method: "POST",
                    headers: myHeaders,
                    body: raw,
                    redirect: "follow"
                };

                fetch(base_url+"/download", requestOptions)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        hideLoader()
                        return response.blob();
                    })
                    .then(blob => {
                        const url = window.URL.createObjectURL(blob);
                        console.log(blob)
                        const a = document.createElement('a');
                        a.style.display = 'none';
                        a.href = url;
                        a.download = vehiName+'_'+motoName+'.zip'; // Set the file name here
                        document.body.appendChild(a);
                        a.click();
                        window.URL.revokeObjectURL(url);
                    })
                    .catch(error => {
                        hideLoader()
                        console.error('There was an error!', error)});
            });

        });

</script>
  </body>
</html>